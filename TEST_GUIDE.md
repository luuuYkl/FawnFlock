# 🧪 FawnFlock 功能测试指南

## 📊 测试环境

- **前端地址**: https://terrible-spooky-incantation-7vjrvrwjqjrqcxwr4-8080.app.github.dev
- **后端地址**: https://terrible-spooky-incantation-7vjrvrwjqjrqcxwr4-7878.app.github.dev
- **服务状态**: ✅ 前后端均已启动

---

## 🎯 测试清单

### 第一部分：登录/注册功能

#### 1️⃣ 测试登录页面 (LoginPage1.vue)

**访问路径**: `/`

**测试点**:
- [ ] 页面加载正常，显示渐变紫色背景
- [ ] Logo 有浮动动画效果
- [ ] 手机号登录按钮可点击
- [ ] 微信登录按钮显示"即将上线"标签且禁用
- [ ] 隐私协议复选框验证（未勾选时无法进入）
- [ ] 点击"手机号登录"跳转到 `/LoginPagePhoneNumber`

---

#### 2️⃣ 测试手机号注册/登录 (LoginPagePhoneNumber.vue)

**访问路径**: `/LoginPagePhoneNumber`

**测试点**:
- [ ] **返回按钮**: 点击返回到登录首页
- [ ] **手机号验证**:
  - 输入非手机号（如 `123`），失败提示显示
  - 输入正确格式（如 `13800138000`），显示绿色 ✓ 图标
- [ ] **密码强度指示器**:
  - 弱密码（6位）：红色进度条
  - 中等密码（8位+大小写）：黄色进度条
  - 强密码（10位+大小写+数字+符号）：绿色进度条
- [ ] **密码可见性切换**: 点击 👁️ 图标切换显示/隐藏
- [ ] **表单验证**:
  - 手机号不合法时，登录按钮禁用
  - 密码为空时，登录按钮禁用
  - 所有验证通过后，按钮可点击
- [ ] **提交测试**:
  - 输入 `13800138000` + `password123`
  - 点击登录，显示加载 spinner
  - 成功后跳转到 `/HomePage`

---

### 第二部分：帖子列表功能

#### 3️⃣ 测试帖子列表页 (PostHomePage.vue)

**访问路径**: `/HomePage`

**测试点**:
- [ ] **加载状态**:
  - 首次进入显示 3 个骨架屏卡片
  - 骨架屏有波浪加载动画
- [ ] **帖子展示**:
  - 显示 3 条测试帖子
  - 每个帖子卡片包含：标题、内容预览、作者、时间、点赞数、评论数
  - 内容最多显示 3 行（多余的用省略号）
- [ ] **卡片交互**:
  - 鼠标悬停时卡片上移 + 阴影增强
  - 点击卡片跳转到帖子详情页
- [ ] **发帖按钮**:
  - 右上角显示 "+ 发帖" 按钮
  - 点击跳转到 `/create-post`（开发中页面）
- [ ] **点赞按钮**:
  - 显示 🤍 图标和点赞数
  - 点击后变为 ❤️ 红色
  - 点赞数 +1
  - 再次点击取消点赞，数量 -1
- [ ] **评论按钮**:
  - 显示 💬 图标和评论数
  - 点击卡片进入详情页查看评论
- [ ] **下拉刷新** (移动端):
  - 在页面顶部下拉
  - 显示"下拉刷新"提示
  - 释放后刷新数据
- [ ] **上拉加载更多**:
  - 滚动到底部
  - 显示"加载更多..."
  - （当前只有 3 条数据，会显示"没有更多了"）

---

### 第三部分：帖子详情功能

#### 4️⃣ 测试帖子详情页 (PostDetail.vue)

**访问路径**: `/post/1` (帖子ID为1)

**测试点**:
- [ ] **页面结构**:
  - 左上角"← 返回"按钮
  - 右上角"📤 分享"按钮
  - 中间标题"帖子详情"
- [ ] **返回功能**:
  - 点击返回按钮，回到帖子列表
- [ ] **分享功能**:
  - 点击分享按钮
  - 如果浏览器支持，显示系统分享面板
  - 如果不支持，复制链接到剪贴板，显示提示
- [ ] **作者信息**:
  - 显示作者头像（首字母圆形）
  - 作者名称
  - 发布时间（相对时间：刚刚/X分钟前/X小时前/X天前）
- [ ] **帖子内容**:
  - 完整标题（大号字体）
  - 完整正文内容
  - 如果有图片，显示图片画廊
- [ ] **点赞功能**:
  - 显示点赞按钮和数量
  - 点击切换点赞/取消点赞
  - 图标在 🤍 和 ❤️ 之间切换
- [ ] **评论总数**:
  - 显示当前评论总数
- [ ] **评论输入框**:
  - 输入框占位符"说点什么..."
  - 右下角显示字数统计 `0/500`
  - 输入超过 450 字时，字数变红色警告
  - 输入超过 500 字时，无法继续输入
  - 空内容时，发送按钮禁用
  - 有内容时，发送按钮可点击
- [ ] **发表评论**:
  - 输入 `这是一条测试评论`
  - 点击"📮 发送"
  - 显示加载 spinner
  - 成功后显示绿色"评论发表成功！"提示
  - 输入框清空
  - 评论列表自动刷新
  - 新评论出现在列表顶部
- [ ] **评论列表**:
  - 如果没有评论，显示空状态（💬 图标 + "还没有评论"）
  - 如果有评论，显示评论卡片：
    - 评论者头像（首字母）
    - 评论者名称
    - 评论时间
    - 评论内容
  - 评论按时间倒序排列（最新的在上面）
- [ ] **滑入动画**:
  - 新评论出现时有从下向上的滑入动画

---

### 第四部分：样式系统测试

#### 5️⃣ 测试全局样式一致性

**测试点**:
- [ ] **颜色主题**:
  - 主色调为紫色渐变（#667eea → #764ba2）
  - 所有主要按钮使用渐变背景
  - 标题文字使用渐变效果
- [ ] **按钮样式**:
  - 主要按钮：紫色渐变 + 白字 + 阴影
  - 悬停效果：上移 2px + 阴影增强
  - 禁用状态：透明度 0.6，无法悬停
- [ ] **卡片样式**:
  - 白色背景
  - 圆角 12px
  - 阴影效果
  - 悬停时阴影增强
- [ ] **输入框样式**:
  - 2px 灰色边框
  - 聚焦时紫色边框 + 光晕
  - 错误时红色边框
- [ ] **动画效果**:
  - 页面加载时元素滑入
  - 按钮点击时有反馈
  - 过渡动画流畅（0.3s）
- [ ] **响应式设计**:
  - 在移动端屏幕下（<768px），字体和间距自适应
  - 按钮大小合适，易于点击

---

### 第五部分：错误处理测试

#### 6️⃣ 测试错误场景

**测试点**:
- [ ] **网络错误模拟**:
  - 停止后端服务：`pkill -f ts-node-dev`
  - 刷新帖子列表页
  - 应显示错误图标 + "加载失败" + "重试"按钮
  - 点击重试按钮，尝试重新加载
- [ ] **无效路由**:
  - 访问 `/post/999`（不存在的帖子）
  - 应显示 404 错误或友好提示
- [ ] **表单验证**:
  - 在评论框输入空格，点击发送
  - 应显示"评论内容不能为空"错误
- [ ] **登录验证**:
  - 手机号输入 `123456`（不合法）
  - 应禁用登录按钮 + 显示错误提示

---

## 🔧 调试工具

### 浏览器控制台命令

打开开发者工具 (F12)，在 Console 中输入：

```javascript
// 查看当前 API 基础 URL
window.__logApiBase()

// 清除 API 缓存
window.__clearApiCache()

// 查看 Vue 组件数据（需要 Vue DevTools）
// 安装: https://devtools.vuejs.org/
```

### 后端日志查看

```bash
# 查看后端实时日志
tail -f /tmp/mock.log

# 查看前端实时日志
tail -f /tmp/frontend.log
```

### 手动 API 测试

```bash
# 测试获取帖子列表
curl https://terrible-spooky-incantation-7vjrvrwjqjrqcxwr4-7878.app.github.dev/api/posts

# 测试获取帖子详情
curl https://terrible-spooky-incantation-7vjrvrwjqjrqcxwr4-7878.app.github.dev/api/posts/1

# 测试获取评论
curl https://terrible-spooky-incantation-7vjrvrwjqjrqcxwr4-7878.app.github.dev/api/posts/1/comments

# 测试发表评论
curl -X POST https://terrible-spooky-incantation-7vjrvrwjqjrqcxwr4-7878.app.github.dev/api/posts/1/comments \
  -H "Content-Type: application/json" \
  -d '{"user_id": 1, "author": "测试用户", "content": "这是一条测试评论"}'
```

---

## 📋 测试结果记录

### 功能测试矩阵

| 功能模块 | 测试项 | 状态 | 备注 |
|---------|-------|------|------|
| 登录页 | 页面加载 | ⬜ 待测试 | |
| 登录页 | 表单验证 | ⬜ 待测试 | |
| 登录页 | 跳转功能 | ⬜ 待测试 | |
| 注册页 | 手机号验证 | ⬜ 待测试 | |
| 注册页 | 密码强度 | ⬜ 待测试 | |
| 注册页 | 提交注册 | ⬜ 待测试 | |
| 帖子列表 | 加载状态 | ⬜ 待测试 | |
| 帖子列表 | 数据展示 | ⬜ 待测试 | |
| 帖子列表 | 点赞功能 | ⬜ 待测试 | |
| 帖子列表 | 下拉刷新 | ⬜ 待测试 | |
| 帖子详情 | 内容展示 | ⬜ 待测试 | |
| 帖子详情 | 评论列表 | ⬜ 待测试 | |
| 帖子详情 | 发表评论 | ⬜ 待测试 | |
| 帖子详情 | 返回/分享 | ⬜ 待测试 | |
| 全局样式 | 主题一致 | ⬜ 待测试 | |
| 全局样式 | 响应式 | ⬜ 待测试 | |
| 错误处理 | 网络错误 | ⬜ 待测试 | |
| 错误处理 | 表单错误 | ⬜ 待测试 | |

---

## 🐛 已知问题

- 无

---

## 📝 测试建议流程

1. **登录流程** (5分钟)
   - 访问首页 → 点击手机号登录 → 输入信息 → 登录成功

2. **浏览帖子** (5分钟)
   - 查看帖子列表 → 点赞/取消点赞 → 点击卡片进入详情

3. **互动功能** (10分钟)
   - 查看帖子详情 → 阅读评论 → 发表评论 → 验证评论出现

4. **边界测试** (5分钟)
   - 空评论提交 → 超长评论 → 网络断开重试

5. **UI/UX 检查** (5分钟)
   - 检查颜色主题 → 测试动画效果 → 验证响应式布局

**总计**: 约 30 分钟完整测试

---

## ✅ 测试完成后

请在此记录测试结果和发现的问题：

### 发现的问题

1. 


### 改进建议

1. 


---

**测试愉快！** 🎉

如有任何问题，请查看：
- **样式指南**: `/workspaces/FawnFlock/STYLE_GUIDE.md`
- **后端日志**: `/tmp/mock.log`
- **前端日志**: `/tmp/frontend.log`
